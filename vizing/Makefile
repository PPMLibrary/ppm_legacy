#----------------------------------------------------------------------
#                                                                      
#  Makefile : libvizing.a
#  Version  :                                                          
#  Author   :                                                          
#  Created  : 1/2004
#                                                                      
#----------------------------------------------------------------------
#  Creator: Ivo Sbalzarini
#  Rev: 2004/01/07 by Ivo Sbalzarini
#----------------------------------------------------------------------
SHELL       = /bin/sh
BIN         = libvizing.a
TARGET      = vizing
#----------------------------------------------------------------------
#  Compiler settings
#----------------------------------------------------------------------
include Make.gcc

#----------------------------------------------------------------------
#  Search path for RCS files                                           
#----------------------------------------------------------------------
VPATH = ./RCS

#----------------------------------------------------------------------
#  Additional suffix rules                                             
#----------------------------------------------------------------------
.SUFFIXES : .inc .inc,v .h,v .cc,v
.h,v.h :
	 co $*.h

.cc,v.cc :
	 co $*.cc

.inc,v.inc :
	 co $*.inc

#----------------------------------------------------------------------
#  Binary directory
#----------------------------------------------------------------------
bindir      = ../lib

#----------------------------------------------------------------------
#  Default target
#----------------------------------------------------------------------
all: $(TARGET)

#----------------------------------------------------------------------
#  Object files:                                                       
#----------------------------------------------------------------------
OBJS = vizing_coloring.o

#----------------------------------------------------------------------
#  Dependencies:                                                       
#----------------------------------------------------------------------
vizing_coloring.o: vizing_coloring.cc\
	./graph.h\
	./color.h\
	./Array.h\
	./Boolean.h\
	./adj.h\
	./edge.h\
	./list.h
	$(CC) $(CFLAGS) $(DEFINE) -I./ -c vizing_coloring.cc -o vizing_coloring.o

#----------------------------------------------------------------------
#  link                                                                
#----------------------------------------------------------------------
$(TARGET): $(OBJS)
	$(AR) $(ARFLAGS) $(BIN) vizing_coloring.o

#----------------------------------------------------------------------
#  Install                                                             
#----------------------------------------------------------------------
install: $(BIN)
	(mkdir -p $(bindir))
	(cp -f $(BIN) $(bindir))

#----------------------------------------------------------------------
#  Clean                                                               
#----------------------------------------------------------------------
new: cleanall vizing
cleanall:
	 rm -f __*.f
	 rm -f $(OBJS)
	 rm -f *.lst
	 rm -f *.l
	 rm -f *.L
	 rm -f *.mod
	 rm -f *.o
	 rm -f *.a

clean:
	 rm -f __*.f
	 rm -f *.lst
	 rm -f *.a
	 rm -f *.o
